<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Makeup Project | MAD9022</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Fullstack: Frontend Development Course">
    
    <link rel="preload" href="/W2024/assets/css/0.styles.38548c21.css" as="style"><link rel="preload" href="/W2024/assets/js/app.75ab4a46.js" as="script"><link rel="preload" href="/W2024/assets/js/2.169fe304.js" as="script"><link rel="preload" href="/W2024/assets/js/18.08b50bd9.js" as="script"><link rel="preload" href="/W2024/assets/js/11.5fe5a40b.js" as="script"><link rel="prefetch" href="/W2024/assets/js/10.bb55a56f.js"><link rel="prefetch" href="/W2024/assets/js/12.cb875653.js"><link rel="prefetch" href="/W2024/assets/js/13.1700d232.js"><link rel="prefetch" href="/W2024/assets/js/14.6d793e40.js"><link rel="prefetch" href="/W2024/assets/js/15.3ef467a4.js"><link rel="prefetch" href="/W2024/assets/js/16.e42496d5.js"><link rel="prefetch" href="/W2024/assets/js/17.910bf099.js"><link rel="prefetch" href="/W2024/assets/js/19.53a7ca32.js"><link rel="prefetch" href="/W2024/assets/js/20.3d91172a.js"><link rel="prefetch" href="/W2024/assets/js/21.6c21b589.js"><link rel="prefetch" href="/W2024/assets/js/22.be84b262.js"><link rel="prefetch" href="/W2024/assets/js/23.d04ae12b.js"><link rel="prefetch" href="/W2024/assets/js/24.7c693d08.js"><link rel="prefetch" href="/W2024/assets/js/25.19e2f70a.js"><link rel="prefetch" href="/W2024/assets/js/26.9382f0c5.js"><link rel="prefetch" href="/W2024/assets/js/27.032dbafb.js"><link rel="prefetch" href="/W2024/assets/js/28.0736d681.js"><link rel="prefetch" href="/W2024/assets/js/29.113fa4e8.js"><link rel="prefetch" href="/W2024/assets/js/3.76867010.js"><link rel="prefetch" href="/W2024/assets/js/30.e7e46473.js"><link rel="prefetch" href="/W2024/assets/js/31.d8f08733.js"><link rel="prefetch" href="/W2024/assets/js/32.a00458db.js"><link rel="prefetch" href="/W2024/assets/js/33.3f00461a.js"><link rel="prefetch" href="/W2024/assets/js/34.b9011ffd.js"><link rel="prefetch" href="/W2024/assets/js/35.b116e68e.js"><link rel="prefetch" href="/W2024/assets/js/36.500c8668.js"><link rel="prefetch" href="/W2024/assets/js/37.7104bc74.js"><link rel="prefetch" href="/W2024/assets/js/38.ae2c7ee1.js"><link rel="prefetch" href="/W2024/assets/js/39.bcaa1501.js"><link rel="prefetch" href="/W2024/assets/js/4.d88452c7.js"><link rel="prefetch" href="/W2024/assets/js/40.17750d95.js"><link rel="prefetch" href="/W2024/assets/js/41.9ca82c82.js"><link rel="prefetch" href="/W2024/assets/js/42.f38fabec.js"><link rel="prefetch" href="/W2024/assets/js/43.0e6af1f7.js"><link rel="prefetch" href="/W2024/assets/js/44.bc036991.js"><link rel="prefetch" href="/W2024/assets/js/45.2aca6234.js"><link rel="prefetch" href="/W2024/assets/js/46.51e42aff.js"><link rel="prefetch" href="/W2024/assets/js/47.41264f59.js"><link rel="prefetch" href="/W2024/assets/js/48.a7b474f8.js"><link rel="prefetch" href="/W2024/assets/js/49.d1930c68.js"><link rel="prefetch" href="/W2024/assets/js/5.ea0ea3ca.js"><link rel="prefetch" href="/W2024/assets/js/50.4f75d399.js"><link rel="prefetch" href="/W2024/assets/js/51.2e82e585.js"><link rel="prefetch" href="/W2024/assets/js/52.209d8eda.js"><link rel="prefetch" href="/W2024/assets/js/53.46795a3f.js"><link rel="prefetch" href="/W2024/assets/js/6.8a0579a1.js"><link rel="prefetch" href="/W2024/assets/js/7.015792a8.js"><link rel="prefetch" href="/W2024/assets/js/8.709a261e.js"><link rel="prefetch" href="/W2024/assets/js/9.83ac2bbe.js">
    <link rel="stylesheet" href="/W2024/assets/css/0.styles.38548c21.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/W2024/" class="home-link router-link-active"><img src="/W2024/mad-d-logo-sm.png" alt="MAD9022" class="logo"> <span class="site-name can-hide">MAD9022</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/W2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/W2024/assignments/" class="nav-link router-link-active">
  Deliverables
</a></div><div class="nav-item"><a href="/W2024/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/W2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/W2024/assignments/" class="nav-link router-link-active">
  Deliverables
</a></div><div class="nav-item"><a href="/W2024/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Hybrid</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/W2024/modules/hybrids/" class="sidebar-link">Web Component Intro</a></li><li><a href="/W2024/modules/hybrids/js-classes.html" class="sidebar-link">JS Prototypes, Classes, and Modules</a></li><li><a href="/W2024/modules/hybrids/styling-behaviour.html" class="sidebar-link">Web Component Styling and Behaviour</a></li><li><a href="/W2024/modules/hybrids/libraries.html" class="sidebar-link">Web Component Libraries</a></li><li><a href="/W2024/modules/hybrids/exercises.html" class="sidebar-link">Hybrid Exercises</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PWA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="makeup-project"><a href="#makeup-project" class="header-anchor">#</a> Makeup Project</h1> <h2 id="nextjs-14"><a href="#nextjs-14" class="header-anchor">#</a> NextJS 14</h2> <h3 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h3> <p>You will be creating a NextJS app that does it's rendering and fetching ALL on the server, uses ENV variables for the API keys and tokens, talks to 4 different APIs, and combines the values from each
of those through dynamic endpoints and routing. It <strong>MUST</strong> use the APP Router introduced in NextJS 13, and <strong>NOT</strong> the Page Router from older versions of NextJs.</p> <p>The API list:</p> <ul><li><a href="https://restcountries.com" target="_blank" rel="noopener noreferrer">RestCountries API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and the <code>https://restcountries.com/v3.1/all</code> endpoint.</li> <li><a href="https://openweathermap.org" target="_blank" rel="noopener noreferrer">OpenWeathermap API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and the <code>https://api.openweathermap.org/data/2.5/weather?q=</code> endpoint.</li> <li><a href="https://pixabay.com/api/docs/" target="_blank" rel="noopener noreferrer">Pixabay Image API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and the <code>https://pixabay.com/api/?</code> endpoint.</li> <li><a href="https://developer.themoviedb.org/docs/getting-started" target="_blank" rel="noopener noreferrer">TMDB API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and the <code>https://developer.themoviedb.org/reference/search-movie</code> endpoint.</li></ul> <h3 id="setup"><a href="#setup" class="header-anchor">#</a> Setup</h3> <p>Use JavaScript, not Typescript in your NextJs project.</p> <p>When creating your NextJs project with <code>create-next-app</code> use these values to answer the questions.</p> <p><img src="/W2024/assets/img/next-setup.d08e48b0.png" alt="Next Setup Options"></p> <p>You will need to have a <code>.env.local</code> file at the root of your project. This file is in your gitignore file by default. You will need to submit it separately as an attachment through Slack or email.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>TMDB_TOKEN=Your JWT bearer token value for TMDB
PIXABAY_KEY=Your Pixabay account api key
WEATHER_KEY=Your OpenWeather account api key
BASE_URL=http://localhost:3000 ...this will be different on Vercel
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="folder-structure-and-endpoints"><a href="#folder-structure-and-endpoints" class="header-anchor">#</a> Folder Structure and Endpoints</h3> <p>Here is the basic folder structure for the project, inside the <code>app</code> folder.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/app
  - layout.js
  - page.js
  - error.js
  - not-found.js
  /[country]
    - page.js
    /[capital]
      - page.js
      /photos
        - page.js
      /movies
        -page.js
  /api
    - route.js
    /[location]
      - route.js
      /movies
        - route.js
      /photos
        - route.js
  /components
    - header.js
    - spinner.js
    - weathercard.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><code>/app/page.js</code> is the home page. It will display an alphabetically sorted list of all the countries, grouped by region. For each country, show their common country name plus the name of the capital
city. Clicking country-city link will take the user to the <code>/[country]/[capital]</code> URL endpoint. This page will make a fetch call to the <code>/api/route.js</code> endpoint to get the list. Use the
<code>&lt;Suspense fallback={}&gt;</code> React component to allow the rest of the page to load while waiting for fetch results. Do not show entries if there is no capital city value.</p> <p><code>/app/[country]</code> is a redirect page. If the user just types just a country name, call the <code>/api</code> endpoint to get the list of countries, find the matching one and redirect to <code>/[country]/[capital]</code>. If
there is no match for the country, then redirect to the home page which will show the whole list of all countries.</p> <p><code>/app/[country]/[capital]</code> page will fetch the weather for the correct capital city and display it on the page. Additionally it will have links to the home page, the movies page, and the photos page.
If the weather API has no match for the (city, country), then show an error message about their being mo match for the city and do NOT show the links to the movies or photos page. The weather data can
be fetched directly from the <code>weathercard</code> component or page.js file OR you can create a new endpoint like <code>/api/[location]/weather/route.js</code> to fetch the weather data. The weather data shown should
include the current temp, main value, description, and icon.</p> <p><code>/app/[country]/[capital]/movies</code> page will make a fetch call to the <code>/api/[location]/movies/route.js</code> endpoint and get a list of the first page of results from TMDB. The name of the capital city can
be passed through the query string to the route.js file. The movie search will be based on the name of the capital city. Be sure to display an error message if the fetch call fails OR if it works but
there are no results. For each movie, display a title, release_date, overview, and the image. Be sure to have a placeholder image if the image value from TMDB is null. Use a responsive GRID to show
the movie cards.</p> <p><code>/app/[country]/[capital]/photos</code> page will make a fetch call to the <code>/api/[location]/photos/route.js</code> endpoint and get a list of the results from Pixabay. Limit the results by <code>image_type=photo</code>. The
name of the capital city can be passed through the query string to the route.js file. The movie search will be based on the name of the capital city. Be sure to display an error message if the fetch
call fails OR if it works but there are no results. For each Photo, show a card with the image, the photographer's name, and a link to the page on Pixabay for the image downloads.</p> <p><code>/not-found.js</code> is a custom 404 error page for invalid routes. Make sure it uses the common layout and header component, plus a link to the home page.</p> <p><code>/error.js</code> is a custom error page that shows when a JS error occurs. Make sure it uses the common layout and header component, plus a link to the home page.</p> <p><code>/api/route.js</code> fetches the list of countries from the RestCountries API. When fetching the data, be sure to set the <code>{next: {revalidate: 0 }}</code> setting to cache the results for one day. The results
should be sorted by region first and then country name before being returned to the page. It needs to gracefully handle fetch failures.</p> <p><code>/api/[location]/route.js</code> fetches the same data as <code>/api/route.js</code> but it filters the results and only returns the object for the matching country. It needs to gracefully handle errors for no
matching country name.</p> <p><code>/api/[location]/movies/route.js</code> fetches the movies from TMDB with the endpoint <code>https://api.themoviedb.org/3/search/movie</code>. It needs to use the <code>Authorization</code> header with the bearer token from the
ENV variables. It should find matches for the capital city name. Pass the capital city name through the dynamic path segment <code>[location]</code>. Note that the <code>api</code> segments don't need a country and a city,
just one value for the city.</p> <p><code>/api/[location]/photos/route.js</code> fetches the photos from Pixabay with the endpoint <code>https://pixabay.com/api?key=&amp;q=&amp;image_type=photo</code>.</p> <h3 id="general-requirements"><a href="#general-requirements" class="header-anchor">#</a> General Requirements</h3> <ul><li>App Router must be used for NextJS.</li> <li>No React hooks may be used.</li> <li>All JavaScript errors must be handled.</li> <li>All fetch calls must be made server-side.</li> <li>All navigation in the pages should be done with the Next <code>&lt;Link&gt;</code> components.</li> <li>All images in the pages should be built with the Next <code>&lt;Image&gt;</code> components.</li> <li>Be sure to update the <code>next.config.mjs</code> file to allow the images being loaded.</li></ul> <h3 id="design-requirements"><a href="#design-requirements" class="header-anchor">#</a> Design Requirements</h3> <ul><li>All content must use accessible colour combinations and work on both dark mode and light mode.</li> <li>All layouts must be responsive and still function across a range of screen sizes.</li> <li>Use proper padding and margin values to maintain readability and usability standards.</li></ul> <h3 id="project-demo"><a href="#project-demo" class="header-anchor">#</a> Project Demo</h3> <div title="Project demo video" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/_30r1RsWbK4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h3 id="submission"><a href="#submission" class="header-anchor">#</a> Submission</h3> <ol><li>Use a <strong>private</strong> Github repo to hold your NextJS project.</li> <li>The NextJs project must be at the root of the Git repo.</li> <li>Create a Vercel project that is connected to your private repo.</li> <li>Invite <code>prof3ssorSt3v3</code> to your Github repo.</li> <li>Invite <code>prof3ssorSt3v3</code> to your Vercel project.</li> <li>Submit by email:</li></ol> <ul><li>The <code>Github.com</code> repo url.</li> <li>The public <code>Vercel.app</code> url.</li> <li>Your ENV variable file.</li></ul> <p>Due before 8am on Wed. May 15, 2024</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/29/2024, 3:01:42 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/W2024/assets/js/app.75ab4a46.js" defer></script><script src="/W2024/assets/js/2.169fe304.js" defer></script><script src="/W2024/assets/js/18.08b50bd9.js" defer></script><script src="/W2024/assets/js/11.5fe5a40b.js" defer></script>
  </body>
</html>
