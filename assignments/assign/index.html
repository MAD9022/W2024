<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Assignments | MAD9022</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Fullstack: Frontend Development Course">
    
    <link rel="preload" href="/W2024/assets/css/0.styles.38548c21.css" as="style"><link rel="preload" href="/W2024/assets/js/app.75ab4a46.js" as="script"><link rel="preload" href="/W2024/assets/js/2.169fe304.js" as="script"><link rel="preload" href="/W2024/assets/js/16.e42496d5.js" as="script"><link rel="preload" href="/W2024/assets/js/8.709a261e.js" as="script"><link rel="preload" href="/W2024/assets/js/11.5fe5a40b.js" as="script"><link rel="prefetch" href="/W2024/assets/js/10.bb55a56f.js"><link rel="prefetch" href="/W2024/assets/js/12.cb875653.js"><link rel="prefetch" href="/W2024/assets/js/13.1700d232.js"><link rel="prefetch" href="/W2024/assets/js/14.6d793e40.js"><link rel="prefetch" href="/W2024/assets/js/15.3ef467a4.js"><link rel="prefetch" href="/W2024/assets/js/17.910bf099.js"><link rel="prefetch" href="/W2024/assets/js/18.08b50bd9.js"><link rel="prefetch" href="/W2024/assets/js/19.53a7ca32.js"><link rel="prefetch" href="/W2024/assets/js/20.3d91172a.js"><link rel="prefetch" href="/W2024/assets/js/21.6c21b589.js"><link rel="prefetch" href="/W2024/assets/js/22.be84b262.js"><link rel="prefetch" href="/W2024/assets/js/23.d04ae12b.js"><link rel="prefetch" href="/W2024/assets/js/24.7c693d08.js"><link rel="prefetch" href="/W2024/assets/js/25.19e2f70a.js"><link rel="prefetch" href="/W2024/assets/js/26.9382f0c5.js"><link rel="prefetch" href="/W2024/assets/js/27.032dbafb.js"><link rel="prefetch" href="/W2024/assets/js/28.0736d681.js"><link rel="prefetch" href="/W2024/assets/js/29.113fa4e8.js"><link rel="prefetch" href="/W2024/assets/js/3.76867010.js"><link rel="prefetch" href="/W2024/assets/js/30.e7e46473.js"><link rel="prefetch" href="/W2024/assets/js/31.d8f08733.js"><link rel="prefetch" href="/W2024/assets/js/32.a00458db.js"><link rel="prefetch" href="/W2024/assets/js/33.3f00461a.js"><link rel="prefetch" href="/W2024/assets/js/34.b9011ffd.js"><link rel="prefetch" href="/W2024/assets/js/35.b116e68e.js"><link rel="prefetch" href="/W2024/assets/js/36.500c8668.js"><link rel="prefetch" href="/W2024/assets/js/37.7104bc74.js"><link rel="prefetch" href="/W2024/assets/js/38.ae2c7ee1.js"><link rel="prefetch" href="/W2024/assets/js/39.bcaa1501.js"><link rel="prefetch" href="/W2024/assets/js/4.d88452c7.js"><link rel="prefetch" href="/W2024/assets/js/40.17750d95.js"><link rel="prefetch" href="/W2024/assets/js/41.9ca82c82.js"><link rel="prefetch" href="/W2024/assets/js/42.f38fabec.js"><link rel="prefetch" href="/W2024/assets/js/43.0e6af1f7.js"><link rel="prefetch" href="/W2024/assets/js/44.bc036991.js"><link rel="prefetch" href="/W2024/assets/js/45.2aca6234.js"><link rel="prefetch" href="/W2024/assets/js/46.51e42aff.js"><link rel="prefetch" href="/W2024/assets/js/47.41264f59.js"><link rel="prefetch" href="/W2024/assets/js/48.a7b474f8.js"><link rel="prefetch" href="/W2024/assets/js/49.d1930c68.js"><link rel="prefetch" href="/W2024/assets/js/5.ea0ea3ca.js"><link rel="prefetch" href="/W2024/assets/js/50.4f75d399.js"><link rel="prefetch" href="/W2024/assets/js/51.2e82e585.js"><link rel="prefetch" href="/W2024/assets/js/52.209d8eda.js"><link rel="prefetch" href="/W2024/assets/js/53.46795a3f.js"><link rel="prefetch" href="/W2024/assets/js/6.8a0579a1.js"><link rel="prefetch" href="/W2024/assets/js/7.015792a8.js"><link rel="prefetch" href="/W2024/assets/js/9.83ac2bbe.js">
    <link rel="stylesheet" href="/W2024/assets/css/0.styles.38548c21.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/W2024/" class="home-link router-link-active"><img src="/W2024/mad-d-logo-sm.png" alt="MAD9022" class="logo"> <span class="site-name can-hide">MAD9022</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/W2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/W2024/assignments/" class="nav-link router-link-active">
  Deliverables
</a></div><div class="nav-item"><a href="/W2024/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/W2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/W2024/assignments/" class="nav-link router-link-active">
  Deliverables
</a></div><div class="nav-item"><a href="/W2024/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Hybrid</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/W2024/modules/hybrids/" class="sidebar-link">Web Component Intro</a></li><li><a href="/W2024/modules/hybrids/js-classes.html" class="sidebar-link">JS Prototypes, Classes, and Modules</a></li><li><a href="/W2024/modules/hybrids/styling-behaviour.html" class="sidebar-link">Web Component Styling and Behaviour</a></li><li><a href="/W2024/modules/hybrids/libraries.html" class="sidebar-link">Web Component Libraries</a></li><li><a href="/W2024/modules/hybrids/exercises.html" class="sidebar-link">Hybrid Exercises</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PWA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="assignments"><a href="#assignments" class="header-anchor">#</a> Assignments</h1> <p><strong>Table of Contents</strong></p> <ol><li><a href="#_1-storage">Assignment One - Storage</a></li> <li><a href="#_2-service-workers">Assignment Two - Service Workers</a></li> <li><a href="#_3-react-weather-app">Assignment Three - React Weather App</a></li> <li><a href="#_4-nextjs-app">Assignment Four - NextJS App</a></li></ol> <h2 id="_1-storage"><a href="#_1-storage" class="header-anchor">#</a> 1. Storage</h2> <p>Starter code for this exercise will be discussed during class. <a href="https://gist.github.com/prof3ssorSt3v3/f874503cef833f84b0247b7318cbd4a2" target="_blank" rel="noopener noreferrer">Here is the link to the code Gist<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>In this assignment you will be working with an HTML <code>&lt;form&gt;</code> to collect data and image files from the website user. The JSON data will be saved as a <code>.json</code> file with the Cache API and the collected
images will also be saved locally with the Cache API. Then the data and images will be read from the cache and displayed in a list on the page.</p> <p>When the page loads there will be two columns, one that displays a list of friends that have been saved in the local cache and one that displays a form for adding new friends. Each friend will be
displayed as a card in a list. Each one will have a name, a date of birth, and an avatar image.</p> <p>The form will collect the name, date of birth and avatar image using <code>&lt;input type=&quot;text&quot;&gt;</code>, <code>&lt;input type=&quot;date&quot;&gt;</code>, and <code>&lt;input type=&quot;file&quot; accept=&quot;image/*&quot;&gt;</code>.</p> <p>When the user clicks the save button in the form, use <code>crypto.randomUUID()</code> to create an id for the new friend, then create a JavaScript object that contains the id, the name, the date of birth, and
the name of the image. All that data will be saved in the cache as a JSON file, using a name made with the random id + <code>.json</code>. The image from the form needs to be saved in the cache too. Name the
image using the same random id plus the proper file extension.</p> <p>Make sure the whole form is filled out before trying to save a new friend. The JSON contents for each file will look something like this:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8c54e4ad-df4b-4c9d-9c37-1a3790c0c2f5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Economos&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dob&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1999-03-03&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avatar&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8c54e4ad-df4b-4c9d-9c37-1a3790c0c2f5.png&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>When the page loads, as well after a new friend has been saved in the cache, then you need to read all the keys from the cache and build a card for each friend.
<span class="micro">The cache needs to be called secret-friendz.</span> Use the id from the JSON to create a <code>data-</code> property for each <code>&lt;li&gt;</code>. The HTML for a card would look something like this.</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8c54e4ad-df4b-4c9d-9c37-1a3790c0c2f5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Person Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>2000-01-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blob:http://127.0.0.1:5501/b959cd79-a248-4e83-a0f1-1f47238e57c5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Person Name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The list of JSON files should be used to build the list of cards. As each card is build, make the call to the cache to <code>match()</code> the image with the same name as the avatar property from the JSON file.</p> <h3 id="demo-animation"><a href="#demo-animation" class="header-anchor">#</a> Demo Animation</h3> <p>Below is an animated demo of a working version that shows the basic functionality.</p> <div title="assignment demo" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/PV4gGaYg5sY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h3 id="styling-requirements"><a href="#styling-requirements" class="header-anchor">#</a> Styling Requirements</h3> <ol><li>All colour combinations need to be accessible.</li> <li>A single sans-serif font from Google fonts should be used for ALL elements.</li> <li>All the spacing should be made so text from elements do not touch each other or any borders or background-color edges.</li> <li>The header fills the whole width of the container div, which has a fixed max-width.</li> <li>The list of friends and the add friend form need to be displayed as two columns under the header.</li></ol> <h3 id="general-requirements"><a href="#general-requirements" class="header-anchor">#</a> General Requirements</h3> <ol><li>There should be no errors in the console.</li> <li>Your repo should have a minimum of 3 commits with meaningful comments.</li> <li>The form should have a <code>submit</code> listener that prevents the page from reloading.</li> <li>The JSON and image files should not be saved in the cache unless all the needed data is available.</li> <li><strong>All event listeners must be added through JavaScript, NOT HTML attributes.</strong></li></ol> <h4 id="submission"><a href="#submission" class="header-anchor">#</a> Submission</h4> <p>Invite your professor - <code>prof3ssorSt3v3</code> to be a collaborator on your private repo.</p> <p>Submit the URL of your private repo to the <code>Cache Exercise</code> in BS LMS.</p> <p>Week 3</p> <p>See BS LMS for the due date and time.</p> <h2 id="_2-service-workers"><a href="#_2-service-workers" class="header-anchor">#</a> 2. Service Workers</h2> <p>The second assignment will be to create a webpage that uses a service worker to monitor file requests, cache JSON data, and communicate and share information between multiple copies of a page.</p> <p>The main script for the webpage should make an initial request for a list of users from <code>https://random-data-api.com</code>. For each user in the fetched data, a card should be created that shows two text
properties from the user plus the avatar image. The card needs to have the <code>uid</code> (user id) from the user saved as a <code>data-</code> attribute in the HTML for the card.</p> <p>When the user clicks on one of the cards, the hash value in the URL should change to <code>#</code> plus the <code>uid</code> of the user. The <code>uid</code> comes from the HTML <code>data-</code> attribute.</p> <p>In the main script, add a listener for the <code>popstate</code> event or the <code>hashchange</code> event which will be triggered when the page <code>location</code> changes. When the <code>location</code> changes and there is a new hash
value, a value of <code>&quot;#&quot;</code> or <code>&quot;&quot;</code> means that all the cards should be shown. A value with a user id means only show the card with the matching id.</p> <p>The main script also needs to post a message to the service worker when the user clicks to show one card or all the cards. The service worker needs to have a <code>message</code> event listener to accept the
message from the main script. The <strong>main script should send</strong> the id of the selected user plus the name of a function to be called on other pages that are using the same service worker. The function
name should be of a function that exists in the main script.</p> <p>The service worker receives the message from the main script and then uses the <code>Client API</code> to send a message to ALL clients except the one that sent the original message. The message that gets <strong>sent
from the service worker</strong> to all the connected tabs/pages needs to include the name of the function to call plus the user id. It should also send information about something to change in the CSS of
the pages that receive the message. As an example, in the demo video I generate a random color in the service worker and pass that to be set as the color of the heading text on each page.</p> <p>The message from the service worker should <strong>NOT</strong> be sent back to the one page that sent the original message to the service worker.</p> <p>An example message could look something like this:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">uid</span><span class="token operator">:</span> <span class="token string">'09dffcf5-f48a-4961-bf83-7c9a72e6e3a3'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">func</span><span class="token operator">:</span> <span class="token string">'changeUser'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The service worker also needs to have a listener for the <code>fetch</code> event. By default, it will <code>ev.respondWith</code> for every request with a <code>fetch(ev.request)</code> response.</p> <p>The only exception to the default handling occurs when the main script requests the data from <code>https://random-data-api.com</code>. Be sure to use the version 2 API endpoint.
<span class="micro">The cache must be named dynamic-doodle-cache.</span> The response from the Random Data API should be saved with the Cache API as <code>users.json</code>.</p> <p>When the <code>fetch</code> listener gets a request for the Random Data API users endpoint, it should check if <code>users.json</code> is already in the Cache. If it exists in the Cache then return the cached file. If it
doesn't exist in the cache, then do the <code>fetch</code> and save a copy of the Response in the cache as <code>users.json</code>.</p> <h3 id="starter-code"><a href="#starter-code" class="header-anchor">#</a> Starter Code</h3> <p>Here is the <a href="https://gist.github.com/prof3ssorSt3v3/49a890e24a121b7ac24305f21f0c2875" target="_blank" rel="noopener noreferrer">Gist with the Starter Code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for this assignment.</p> <h3 id="demo-video"><a href="#demo-video" class="header-anchor">#</a> Demo Video</h3> <div title="assignment demo video" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/ivnd7Qhyty8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h3 id="submission-2"><a href="#submission-2" class="header-anchor">#</a> Submission</h3> <p>Invite your professor - <code>prof3ssorSt3v3</code> to be a collaborator on your private repo.</p> <p>Submit the URL of your private repo to the <code>Service Worker Assignment</code> in BS LMS.</p> <p>Also submit the github.io link for the Github Pages version.</p> <p><strong>Remember to test your deployed version on Github Pages to make sure the Service Worker loads and runs there</strong></p> <p>Week 5</p> <p>See BS LMS for the due date and time.</p> <h2 id="_3-react-weather-app"><a href="#_3-react-weather-app" class="header-anchor">#</a> 3. React Weather App</h2> <p>This app will be used to demonstrate that you can build a React app from a series of separate components that use shared <code>state</code> objects, plus values and functions that are passed through <code>props</code> from
a parent component to a child component. You will use the <code>useState</code> and <code>useEffect</code> hooks to manage the values in the state objects.</p> <p>The app will use the <a href="https://openweathermap.org/weather-conditions" target="_blank" rel="noopener noreferrer">OpenWeather API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which requires an account. Be sure to sign up for your API key early as it can take up to two days to get one.</p> <h3 id="components"><a href="#components" class="header-anchor">#</a> Components</h3> <p>The app is a single page application that needs no routing. The components will dynamically render different content based on the <code>state</code> and <code>props</code> values.</p> <p>The basic structure of the app will look something like this:</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchBar</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FeedbackBar</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LocationBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LocationCard</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LocationCard</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">LocationBar</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Weather</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Loading</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Weather</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">App</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>The actual names of the components are up to you, as are the names of the props that you create. Here is a sample image of a demo version of the app. Each of the different background colors is a
different React component. (The feedback component is not currently visible.) Each of the components needs its own css file. All the components, except for the <code>App</code> should be kept inside a single
folder - <code>components</code>.</p> <p><img src="/W2024/assets/img/react-app-screenshot.d0346bf5.png" alt="Sample app screenshot"></p> <p>The <code>Header</code> component is simply static content. It provides a masthead and title for the app.</p> <p>The <code>SearchBar</code> component contains a form with a label, input, and button. The input element will need to have a state variable used to hold and update its value with an <code>onChange</code> event listener. The
form will need an <code>onSubmit</code> event that calls a function. The function will be inside of the <code>SearchBar</code> component. It will take the value from the input, via the <code>state</code> property, and call the
<code>https://api.openweathermap.org/geo/1.0/direct?q</code> API geocoding end point to get a location object based on the value from the input. Once a location object has been created, then the add location
function from <code>App</code> is called and the location object is passed to the function. This will update the locations array <code>state</code> property and trigger passing the new value through props to the
<code>LocationBar</code>.</p> <p>The data that comes back from the geocoding end point will get used to create the location object to pass to the array. It will look something like this:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> location <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> crypto<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">lat</span><span class="token operator">:</span> info<span class="token punctuation">.</span>lat<span class="token punctuation">,</span>
  <span class="token literal-property property">lng</span><span class="token operator">:</span> info<span class="token punctuation">.</span>lon<span class="token punctuation">,</span>
  <span class="token literal-property property">country</span><span class="token operator">:</span> info<span class="token punctuation">.</span>country<span class="token punctuation">,</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> info<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>The <code>LocationBar</code> component will be passed an array of location objects from <code>App</code> through <code>props</code>. The array is used to create a series of <code>LocationCard</code> components. A location object is passed
through <code>props</code> to each <code>LocationCard</code>.</p> <p>Each <code>LocationCard</code> will display the name and country of its location, plus a button that can be used to remove a location from the array of locations. The full array of locations is held inside <code>App</code>
as a <code>state</code> property. The button will have an <code>onClick</code> event listener to call the remove method, which comes through <code>props</code> from the <code>App</code> component. The card itself should also have an <code>onClick</code>
event listener which will call a function that is also passed through <code>props</code> from the <code>App</code> component.</p> <p>The <code>Weather</code> component will display the weather details for the selected location, including the main, description, temperature, feels like temperature, icon, and wind speed. Those are the minimum
values. More can be shown too. The weather object will be held in a <code>state</code> property inside <code>App</code> and then passed through props to the <code>Weather</code> component.</p> <p>The <code>FeedbackBar</code> component displays an error or feedback message to the user. The message comes from a message <code>state</code> property. If the message is <code>null</code> or an empty string then the <code>FeedbackBar</code>
component does not appear (it will have no content). It should have a <code>useEffect</code> method that runs any time that the component is rendered. The <code>useEffect</code> function starts a timer to automatically
remove the component by calling the set method for the message <code>state</code> property. <strong>The <code>useEffect</code> method's function also needs to have a cleanup function to clear the timeout.</strong></p> <p>The <code>App</code> component has a <code>state</code> property for the array of locations, a <code>state</code> property for the weather data for the selected location, a <code>state</code> property that holds the current error message for
the user, and a <code>state</code> property that holds the currently selected location. The majority of the app functionality will be inside the <code>App</code> component function.</p> <p><code>App</code> needs a function for adding a location to the <code>state</code> location array which can be passed through <code>props</code> to child components. The add function needs to limit the number of locations that can be
added to the array. If the add function is called and the length of the locations array is already at the maximum (say 4 - 6), then set the error message <code>state</code> property to the message.</p> <p><code>App</code> also needs a function for removing a location from the location array, which can also be passed through <code>props</code> to child components.</p> <p><code>App</code> also needs a function for calling the <code>https://api.openweathermap.org/data/2.5/weather?</code> API end point. It needs a latitude and a longitude value to get the weather for a specific location.</p> <p>The <code>Loading</code> component gets used to display a loading message inside the <code>Weather</code> component, when the user clicks one of the <code>LocationCard</code>s. Make sure that setting the <code>state</code> value that triggers
showing the <code>Loading</code> component happens <strong>before</strong> making the API call to get the weather. It displays a loading message or a spinner/loader icon while the weather is being fetched. Once the weather
data has been updated and passed to the <code>Weather</code> component then the <code>Loading</code> component should disappear. This can be achieved with a separate <code>state</code> property or by setting the weather <code>state</code> value
to <code>null</code>.</p> <p>The <code>Weather</code> component will display different things when:</p> <ul><li>The <code>selectedLocation</code> state property is <code>null</code>. - &quot;no selected location&quot; message.</li> <li>The <code>selectedLocation</code> state property has an object. - location is selected but may or may not be loaded.</li> <li>The <code>weather</code> state property is <code>null</code>. - show the <code>Loading</code> component.</li> <li>The <code>weather</code> state property has an object. - show the weather data.</li></ul> <h3 id="general-practices"><a href="#general-practices" class="header-anchor">#</a> General Practices</h3> <p>You should be displaying the <code>Feedback</code> component for every error. That means setting the value of the <code>state</code> variable that holds the error message used in the component from inside every <code>catch</code> in
your code.</p> <p>You should use the <code>{ PropTypes }</code> import on all the child components that receive props from a parent component. It should be validating the type of each prop passed into each component.</p> <h3 id="design"><a href="#design" class="header-anchor">#</a> Design</h3> <p>Create a custom colour scheme and use it throughout your application. Set up your colour variables inside your <code>App.css</code> file.</p> <p>The colours, font-sizes, and layout need to be responsive and accessible.</p> <p>Include a Google Font by adding the 3 <code>&lt;link&gt;</code> tags to the <code>index.html</code> file which preconnect and load the google fonts css and then load the font. Make sure you add the font to your <code>index.css</code> file.</p> <h3 id="demo-video-2"><a href="#demo-video-2" class="header-anchor">#</a> Demo Video</h3> <div title="Demo video" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/T4L1tDkMHg8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <div class="custom-block danger"><p class="custom-block-title">Hosting This Assignment</p> <p>This app should be hosted on Vercel, NOT Github Pages.</p></div> <h4 id="submission-3"><a href="#submission-3" class="header-anchor">#</a> Submission</h4> <p>Invite your professor - <code>prof3ssorSt3v3</code> to be a collaborator on your private Github repo.</p> <p>Submit the URL of your private repo to the <code>React Weather App</code> in BS LMS.</p> <p>Use <strong>Vercel</strong> to create the hosted version of your website, <strong>NOT</strong> Github Pages.</p> <p>Submit the link to your Vercel React Weather App Website. <strong>NOT</strong> the development link with the long subdomain, but the shorter link that ends in <code>vercel.app</code>.</p> <p>Week 12</p> <p>See BS LMS for the due date and time.</p> <h2 id="_4-nextjs-app"><a href="#_4-nextjs-app" class="header-anchor">#</a> 4. NextJS App</h2> <p>For this assignment you will be creating a NextJS app that uses the built-in routing, the caching of fetch calls, Tailwind CSS, and the combined results from three APIs -
<a href="%60https://api.openweathermap.org/%60">Open Weather API</a>,<br> <a href="%60https://developer.themoviedb.org/reference/intro/getting-started%60">TMDB Movie API</a>, and any recipe or drink API that you want to use (eg:
<a href="https://developer.edamam.com/edamam-recipe-api" target="_blank" rel="noopener noreferrer">Edamame Recipe Search API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <p>The app will load with a home page which shows a form asking the user for their current location. Submitting the form will send the form input value as the next part of the url path. The path with the
location string does a server-side fetch for the current weather for a hard-coded city using the endpoint
<code>https://api.openweathermap.org/data/2.5/weather?q={city name},{country code}&amp;appid={API key}</code>.</p> <p>The results will start with data like this:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;coord&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lon&quot;</span><span class="token operator">:</span> <span class="token number">-0.13</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lat&quot;</span><span class="token operator">:</span> <span class="token number">51.51</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;weather&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
      <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Drizzle&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;light intensity drizzle&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;09d&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stations&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;temp&quot;</span><span class="token operator">:</span> <span class="token number">280.32</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pressure&quot;</span><span class="token operator">:</span> <span class="token number">1012</span><span class="token punctuation">,</span>
    <span class="token property">&quot;humidity&quot;</span><span class="token operator">:</span> <span class="token number">81</span><span class="token punctuation">,</span>
    <span class="token property">&quot;temp_min&quot;</span><span class="token operator">:</span> <span class="token number">279.15</span><span class="token punctuation">,</span>
    <span class="token property">&quot;temp_max&quot;</span><span class="token operator">:</span> <span class="token number">281.15</span>
  <span class="token punctuation">}</span>
  ...
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>The resulting weather should be shown on the page along with the location string. The page should also show two links - one for the perfect drink for this weather and a second for the perfect movie
for this weather.</p> <p>The value of the <code>weather.main</code> property from the weather results needs to be passed through the URL in both the link to the <code>food</code> page or the <code>movie</code> page.</p> <p>The directory structure for your NextJS <code>/app</code> will be defined as something like:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>app
  - page.js
  - layout.js
  - globals.css
  - [location]
    - page.js
    - movie
      - page.js
    - food
      - page.js
  - components
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>So, the urls will be things like this:</p> <ul><li><code>/</code></li> <li><code>/ottawa,canada</code></li> <li><code>/vancouver,canada/food</code></li> <li><code>/kyoto,japan/movie</code></li></ul> <p>The part immediately following the root '/' will be a dynamic routing folder accepting anything written before the following '/'.</p> <p>The MovieDB API should use the endpoint <code>https://api.themoviedb.org/3/search/movie?query=&lt;WEATHERSTRING&gt;&amp;include_adult=false&amp;language=en-US&amp;page=1</code>.</p> <p>Your food or drink API is an API of your own choosing. It should be able to do a search and accept the main value from the weather.</p> <p>We NEVER want to expose our API keys or App ids to the end user in the browser. This is a bad practice (which we have done a number of times in exercises).</p> <p>However, NextJS let's us solve this problem by creating our own pass thru endpoints that run on the server. For our project we need to add an <code>api</code> folder inside of <code>/app/</code> and then a new folder for
each of the three APIs. Each of those folders will have a <code>route.js</code> file that contains a <code>GET</code> endpoint handler.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>- app
  - api
    - weather
      - route.js
    - food
      - route.js
    - movies
      - route.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>The end points in <code>route.js</code> are a just an exported function named after the method. So, each of the three folders will have one of these handlers.</p> <div class="custom-block danger"><p class="custom-block-title">Server Actions</p> <p>For this project, Server Actions may be used. However, you still need to use the <code>route.js</code> route handlers to make the fetch calls to the APIs.</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//based on the response url and querystring prepare the url</span>
  <span class="token comment">//do a fetch call to the api</span>
  <span class="token comment">//using the api key will not expose it to the browser</span>
  <span class="token comment">//return the data from the actual api fetch call</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>The <code>components</code> folder will hold the various components like <code>&lt;Masthead /&gt;</code>, <code>&lt;WeatherCard /&gt;</code>, <code>&lt;RecipeCard /&gt;</code> and <code>&lt;MovieCard /&gt;</code>. Any component specific styles will also be in this folder. Eg:
<code>masthead.module.css</code>, <code>weathercard.module.css</code>, <code>drinkcard.module.css</code> and <code>moviecard.module.css</code>.</p> <p>All the <code>page.js</code> files get loaded into the same <code>layout.js</code> file.</p> <p>The <code>globals.css</code> file loads the Tailwind CSS and defines the styles for the whole app.</p> <p>For TMDB results, when displaying the image from the movie, be sure to have a placeholder image (unlike the demo video). You can keep this in your <code>public</code> folder.</p> <h4 id="demo-video-3"><a href="#demo-video-3" class="header-anchor">#</a> Demo video</h4> <div title="Demo for Next.js Perfect Pairing App" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/oYnH5stJUA4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h4 id="submission-4"><a href="#submission-4" class="header-anchor">#</a> Submission</h4> <p>Invite your professor - <code>prof3ssorSt3v3</code> to be a collaborator on your private repo.</p> <p>Connect Vercel to your Github Repo.</p> <p>Submit the URL of your private repo to the <code>NextJS App</code> in BS LMS PLUS the URL for your Vercel hosted version of the site.</p> <div class="custom-block tip"><p class="custom-block-title">NextJS URL</p> <p>Make sure you submit the short URL, not the development version url of your Vercel site.</p></div> <p>Due Week 13</p> <p>See BS LMS for the due date and time.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/29/2024, 2:01:27 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/W2024/assets/js/app.75ab4a46.js" defer></script><script src="/W2024/assets/js/2.169fe304.js" defer></script><script src="/W2024/assets/js/16.e42496d5.js" defer></script><script src="/W2024/assets/js/8.709a261e.js" defer></script><script src="/W2024/assets/js/11.5fe5a40b.js" defer></script>
  </body>
</html>
